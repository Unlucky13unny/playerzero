// Removed Share2 import as we're now using custom SVG button
import { useState, useEffect } from "react"
import { ExportCardModal } from "../dashboard/ExportCardModal"
import { GrindCard } from "./GrindCard"
import { SummitCard } from "./SummitCard"
import { VerificationScreenshotsModal } from "./VerificationScreenshotsModal"
import { useAuth } from "../../contexts/AuthContext"
import { useTrialStatus } from "../../hooks/useTrialStatus"
import { supabase } from "../../supabaseClient"
import { dashboardService } from "../../services/dashboardService"

export function ShareablesHub() {
  const [showExportModal, setShowExportModal] = useState(false)
  const [showOptionButtons, setShowOptionButtons] = useState(false)
  const [showGrindCard, setShowGrindCard] = useState(false)
  const [showSummitCard, setShowSummitCard] = useState(false)
  const [showVerificationModal, setShowVerificationModal] = useState(false)
  const [profile, setProfile] = useState<any>(null)
  const [lastVerification, setLastVerification] = useState<any>(null)
  const { user } = useAuth()
  const trialStatus = useTrialStatus()

  useEffect(() => {
    loadProfile()
    loadLastVerification()
  }, [user])


  // Reset option buttons when modal is closed
  useEffect(() => {
    if (!showExportModal) {
      setShowOptionButtons(false)
    }
  }, [showExportModal])

  const loadProfile = async () => {
    if (!user?.id) return
    
    try {
      const { data, error } = await supabase
        .from('profiles')
        .select('*')
        .eq('user_id', user.id)
        .single()

      if (error) throw error
      setProfile(data)
    } catch (err: any) {
      console.error('Error loading profile for ShareablesHub:', err)
    }
  }

  const loadLastVerification = async () => {
    if (!user?.id) return
    
    try {
      const verificationData = await dashboardService.getVerificationScreenshots(user.id, 1)
      if (verificationData && verificationData.length > 0) {
        setLastVerification(verificationData[0])
      }
    } catch (err: any) {
      console.error('Error loading verification data:', err)
    }
  }

  const handleExportClick = () => {
    setShowOptionButtons(true)
  }

  const handleCardTypeSelect = (cardType: 'grind' | 'summit') => {
    if (cardType === 'grind') {
      setShowGrindCard(true)
    } else if (cardType === 'summit') {
      setShowSummitCard(true)
    }
  }
  return (
    <div 
      style={{
        /* Container positioning */
        display: 'flex',
        flexDirection: 'column',
        justifyContent: 'flex-start',
        alignItems: 'center',
        
        width: '100%',
        maxWidth: '350px',
        margin: '0 auto',
      }}
    >
             <div className="flex items-center justify-center" style={{ marginBottom: '2px' }}>
        <button 
          className="cursor-pointer hover:opacity-70 transition-all duration-200 ease-in-out" 
          onClick={handleExportClick}
          title="Open export card modal"
          style={{ 
            background: 'none', 
            border: '1px solid transparent', 
            borderRadius: '2px',
            padding: '2px' 
          }}
          onMouseEnter={(e) => {
            e.currentTarget.style.border = '1px solid #000000'
          }}
          onMouseLeave={(e) => {
            e.currentTarget.style.border = '1px solid transparent'
          }}
        >
          <svg width="180" height="36" viewBox="0 0 180 36" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M29.014 22.636L22.986 19.894M29.112 13.582L22.888 16.977M20.015 21.809C20.4438 21.809 20.8683 21.7245 21.2645 21.5605C21.6606 21.3964 22.0205 21.1559 22.3237 20.8527C22.6269 20.5495 22.8674 20.1896 23.0315 19.7935C23.1955 19.3973 23.28 18.9728 23.28 18.544C23.28 18.1152 23.1955 17.6907 23.0315 17.2945C22.8674 16.8984 22.6269 16.5385 22.3237 16.2353C22.0205 15.9321 21.6606 15.6916 21.2645 15.5275C20.8683 15.3635 20.4438 15.279 20.015 15.279C19.1491 15.279 18.3186 15.623 17.7063 16.2353C17.094 16.8476 16.75 17.6781 16.75 18.544C16.75 19.4099 17.094 20.2404 17.7063 20.8527C18.3186 21.465 19.1491 21.809 20.015 21.809ZM31.985 15.28C32.4138 15.28 32.8383 15.1955 33.2345 15.0315C33.6306 14.8674 33.9905 14.6269 34.2937 14.3237C34.5969 14.0205 34.8374 13.6606 35.0015 13.2645C35.1655 12.8683 35.25 12.4438 35.25 12.015C35.25 11.5862 35.1655 11.1617 35.0015 10.7655C34.8374 10.3694 34.5969 10.0095 34.2937 9.7063C33.9905 9.40311 33.6306 9.16261 33.2345 8.99853C32.8383 8.83445 32.4138 8.75 31.985 8.75C31.1191 8.75 30.2886 9.09399 29.6763 9.7063C29.064 10.3186 28.72 11.1491 28.72 12.015C28.72 12.8809 29.064 13.7114 29.6763 14.3237C30.2886 14.936 31.1191 15.28 31.985 15.28ZM31.985 27.25C32.8509 27.25 33.6814 26.906 34.2937 26.2937C34.906 25.6814 35.25 24.8509 35.25 23.985C35.25 23.1191 34.906 22.2886 34.2937 21.6763C33.6814 21.064 32.8509 20.72 31.985 20.72C31.1191 20.72 30.2886 21.064 29.6763 21.6763C29.064 22.2886 28.72 23.1191 28.72 23.985C28.72 24.8509 29.064 25.6814 29.6763 26.2937C30.2886 26.906 31.1191 27.25 31.985 27.25Z" stroke="black" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
            <path d="M58.297 22.598C57.6437 22.598 57.0557 22.486 56.533 22.262C56.0103 22.0287 55.5997 21.702 55.301 21.282C55.0023 20.862 54.853 20.372 54.853 19.812H56.561C56.5983 20.232 56.7617 20.5773 57.051 20.848C57.3497 21.1187 57.765 21.254 58.297 21.254C58.8477 21.254 59.277 21.1233 59.585 20.862C59.893 20.5913 60.047 20.246 60.047 19.826C60.047 19.4993 59.949 19.2333 59.753 19.028C59.5663 18.8227 59.3283 18.664 59.039 18.552C58.759 18.44 58.367 18.3187 57.863 18.188C57.2283 18.02 56.7103 17.852 56.309 17.684C55.917 17.5067 55.581 17.236 55.301 16.872C55.021 16.508 54.881 16.0227 54.881 15.416C54.881 14.856 55.021 14.366 55.301 13.946C55.581 13.526 55.973 13.204 56.477 12.98C56.981 12.756 57.5643 12.644 58.227 12.644C59.1697 12.644 59.9397 12.882 60.537 13.358C61.1437 13.8247 61.4797 14.4687 61.545 15.29H59.781C59.753 14.9353 59.585 14.632 59.277 14.38C58.969 14.128 58.563 14.002 58.059 14.002C57.6017 14.002 57.2283 14.1187 56.939 14.352C56.6497 14.5853 56.505 14.9213 56.505 15.36C56.505 15.6587 56.5937 15.906 56.771 16.102C56.9577 16.2887 57.191 16.438 57.471 16.55C57.751 16.662 58.1337 16.7833 58.619 16.914C59.263 17.0913 59.7857 17.2687 60.187 17.446C60.5977 17.6233 60.943 17.8987 61.223 18.272C61.5123 18.636 61.657 19.126 61.657 19.742C61.657 20.2367 61.5217 20.7033 61.251 21.142C60.9897 21.5807 60.6023 21.9353 60.089 22.206C59.585 22.4673 58.9877 22.598 58.297 22.598ZM67.5302 14.66C68.1182 14.66 68.6409 14.786 69.0982 15.038C69.5649 15.29 69.9289 15.6633 70.1902 16.158C70.4609 16.6527 70.5962 17.25 70.5962 17.95V22.5H69.0142V18.188C69.0142 17.4973 68.8416 16.97 68.4962 16.606C68.1509 16.2327 67.6796 16.046 67.0822 16.046C66.4849 16.046 66.0089 16.2327 65.6542 16.606C65.3089 16.97 65.1362 17.4973 65.1362 18.188V22.5H63.5402V12.14H65.1362V15.682C65.4069 15.3553 65.7476 15.1033 66.1582 14.926C66.5782 14.7487 67.0356 14.66 67.5302 14.66ZM72.1 18.608C72.1 17.8333 72.2587 17.1473 72.576 16.55C72.9027 15.9527 73.3414 15.4907 73.892 15.164C74.452 14.828 75.068 14.66 75.74 14.66C76.3467 14.66 76.874 14.7813 77.322 15.024C77.7794 15.2573 78.1434 15.5513 78.414 15.906V14.786H80.024V22.5H78.414V21.352C78.1434 21.716 77.7747 22.0193 77.308 22.262C76.8414 22.5047 76.3094 22.626 75.712 22.626C75.0494 22.626 74.4427 22.458 73.892 22.122C73.3414 21.7767 72.9027 21.3007 72.576 20.694C72.2587 20.078 72.1 19.3827 72.1 18.608ZM78.414 18.636C78.414 18.104 78.302 17.642 78.078 17.25C77.8634 16.858 77.5787 16.5593 77.224 16.354C76.8694 16.1487 76.4867 16.046 76.076 16.046C75.6654 16.046 75.2827 16.1487 74.928 16.354C74.5734 16.55 74.284 16.844 74.06 17.236C73.8454 17.6187 73.738 18.076 73.738 18.608C73.738 19.14 73.8454 19.6067 74.06 20.008C74.284 20.4093 74.5734 20.7173 74.928 20.932C75.292 21.1373 75.6747 21.24 76.076 21.24C76.4867 21.24 76.8694 21.1373 77.224 20.932C77.5787 20.7267 77.8634 20.428 78.078 20.036C78.302 19.6347 78.414 19.168 78.414 18.636ZM83.7163 15.906C83.9496 15.514 84.2576 15.2107 84.6403 14.996C85.0323 14.772 85.4943 14.66 86.0263 14.66V16.312H85.6203C84.995 16.312 84.519 16.4707 84.1923 16.788C83.875 17.1053 83.7163 17.656 83.7163 18.44V22.5H82.1203V14.786H83.7163V15.906ZM94.5634 18.454C94.5634 18.7433 94.5447 19.0047 94.5074 19.238H88.6134C88.66 19.854 88.8887 20.3487 89.2994 20.722C89.71 21.0953 90.214 21.282 90.8114 21.282C91.67 21.282 92.2767 20.9227 92.6314 20.204H94.3534C94.12 20.9133 93.6954 21.4967 93.0794 21.954C92.4727 22.402 91.7167 22.626 90.8114 22.626C90.074 22.626 89.4114 22.4627 88.8234 22.136C88.2447 21.8 87.7874 21.3333 87.4514 20.736C87.1247 20.1293 86.9614 19.4293 86.9614 18.636C86.9614 17.8427 87.12 17.1473 87.4374 16.55C87.764 15.9433 88.2167 15.4767 88.7954 15.15C89.3834 14.8233 90.0554 14.66 90.8114 14.66C91.5394 14.66 92.188 14.8187 92.7574 15.136C93.3267 15.4533 93.77 15.9013 94.0874 16.48C94.4047 17.0493 94.5634 17.7073 94.5634 18.454ZM92.8974 17.95C92.888 17.362 92.678 16.8907 92.2674 16.536C91.8567 16.1813 91.348 16.004 90.7414 16.004C90.1907 16.004 89.7194 16.1813 89.3274 16.536C88.9354 16.8813 88.702 17.3527 88.6274 17.95H92.8974ZM95.602 18.608C95.602 17.8333 95.7607 17.1473 96.078 16.55C96.4047 15.9527 96.8433 15.4907 97.394 15.164C97.954 14.828 98.57 14.66 99.242 14.66C99.8487 14.66 100.376 14.7813 100.824 15.024C101.281 15.2573 101.645 15.5513 101.916 15.906V14.786H103.526V22.5H101.916V21.352C101.645 21.716 101.277 22.0193 100.81 22.262C100.343 22.5047 99.8113 22.626 99.214 22.626C98.5513 22.626 97.9447 22.458 97.394 22.122C96.8433 21.7767 96.4047 21.3007 96.078 20.694C95.7607 20.078 95.602 19.3827 95.602 18.608ZM101.916 18.636C101.916 18.104 101.804 17.642 101.58 17.25C101.365 16.858 101.081 16.5593 100.726 16.354C100.371 16.1487 99.9887 16.046 99.578 16.046C99.1673 16.046 98.7847 16.1487 98.43 16.354C98.0753 16.55 97.786 16.844 97.562 17.236C97.3473 17.6187 97.24 18.076 97.24 18.608C97.24 19.14 97.3473 19.6067 97.562 20.008C97.786 20.4093 98.0753 20.7173 98.43 20.932C98.794 21.1373 99.1767 21.24 99.578 21.24C99.9887 21.24 100.371 21.1373 100.726 20.932C101.081 20.7267 101.365 20.428 101.58 20.036C101.804 19.6347 101.916 19.168 101.916 18.636ZM107.218 15.934C107.489 15.5607 107.858 15.2573 108.324 15.024C108.8 14.7813 109.328 14.66 109.906 14.66C110.588 14.66 111.204 14.8233 111.754 15.15C112.305 15.4767 112.739 15.9433 113.056 16.55C113.374 17.1473 113.532 17.8333 113.532 18.608C113.532 19.3827 113.374 20.078 113.056 20.694C112.739 21.3007 112.3 21.7767 111.74 22.122C111.19 22.458 110.578 22.626 109.906 22.626C109.309 22.626 108.777 22.5093 108.31 22.276C107.853 22.0427 107.489 21.744 107.218 21.38V22.5H105.622V12.14H107.218V15.934ZM111.908 18.608C111.908 18.076 111.796 17.6187 111.572 17.236C111.358 16.844 111.068 16.55 110.704 16.354C110.35 16.1487 109.967 16.046 109.556 16.046C109.155 16.046 108.772 16.1487 108.408 16.354C108.054 16.5593 107.764 16.858 107.54 17.25C107.326 17.642 107.218 18.104 107.218 18.636C107.218 19.168 107.326 19.6347 107.54 20.036C107.764 20.428 108.054 20.7267 108.408 20.932C108.772 21.1373 109.155 21.24 109.556 21.24C109.967 21.24 110.35 21.1373 110.704 20.932C111.068 20.7173 111.358 20.4093 111.572 20.008C111.796 19.6067 111.908 19.14 111.908 18.608ZM116.707 12.14V22.5H115.111V12.14H116.707ZM125.872 18.454C125.872 18.7433 125.853 19.0047 125.816 19.238H119.922C119.969 19.854 120.197 20.3487 120.608 20.722C121.019 21.0953 121.523 21.282 122.12 21.282C122.979 21.282 123.585 20.9227 123.94 20.204H125.662C125.429 20.9133 125.004 21.4967 124.388 21.954C123.781 22.402 123.025 22.626 122.12 22.626C121.383 22.626 120.72 22.4627 120.132 22.136C119.553 21.8 119.096 21.3333 118.76 20.736C118.433 20.1293 118.27 19.4293 118.27 18.636C118.27 17.8427 118.429 17.1473 118.746 16.55C119.073 15.9433 119.525 15.4767 120.104 15.15C120.692 14.8233 121.364 14.66 122.12 14.66C122.848 14.66 123.497 14.8187 124.066 15.136C124.635 15.4533 125.079 15.9013 125.396 16.48C125.713 17.0493 125.872 17.7073 125.872 18.454ZM124.206 17.95C124.197 17.362 123.987 16.8907 123.576 16.536C123.165 16.1813 122.657 16.004 122.05 16.004C121.499 16.004 121.028 16.1813 120.636 16.536C120.244 16.8813 120.011 17.3527 119.936 17.95H124.206ZM130.243 22.626C129.636 22.626 129.09 22.5187 128.605 22.304C128.129 22.08 127.751 21.7813 127.471 21.408C127.191 21.0253 127.041 20.6007 127.023 20.134H128.675C128.703 20.4607 128.857 20.736 129.137 20.96C129.426 21.1747 129.785 21.282 130.215 21.282C130.663 21.282 131.008 21.198 131.251 21.03C131.503 20.8527 131.629 20.6287 131.629 20.358C131.629 20.0687 131.489 19.854 131.209 19.714C130.938 19.574 130.504 19.42 129.907 19.252C129.328 19.0933 128.857 18.9393 128.493 18.79C128.129 18.6407 127.811 18.412 127.541 18.104C127.279 17.796 127.149 17.39 127.149 16.886C127.149 16.4753 127.27 16.102 127.513 15.766C127.755 15.4207 128.101 15.15 128.549 14.954C129.006 14.758 129.529 14.66 130.117 14.66C130.994 14.66 131.699 14.884 132.231 15.332C132.772 15.7707 133.061 16.3727 133.099 17.138H131.503C131.475 16.7927 131.335 16.5173 131.083 16.312C130.831 16.1067 130.49 16.004 130.061 16.004C129.641 16.004 129.319 16.0833 129.095 16.242C128.871 16.4007 128.759 16.6107 128.759 16.872C128.759 17.0773 128.833 17.25 128.983 17.39C129.132 17.53 129.314 17.642 129.529 17.726C129.743 17.8007 130.061 17.8987 130.481 18.02C131.041 18.1693 131.498 18.3233 131.853 18.482C132.217 18.6313 132.529 18.8553 132.791 19.154C133.052 19.4527 133.187 19.8493 133.197 20.344C133.197 20.7827 133.075 21.1747 132.833 21.52C132.59 21.8653 132.245 22.136 131.797 22.332C131.358 22.528 130.84 22.626 130.243 22.626ZM146.328 12.77V22.5H144.732V18.244H140.154V22.5H138.558V12.77H140.154V16.942H144.732V12.77H146.328ZM155.415 14.786V22.5H153.819V21.59C153.567 21.9073 153.236 22.1593 152.825 22.346C152.424 22.5233 151.994 22.612 151.537 22.612C150.93 22.612 150.384 22.486 149.899 22.234C149.423 21.982 149.045 21.6087 148.765 21.114C148.494 20.6193 148.359 20.022 148.359 19.322V14.786H149.941V19.084C149.941 19.7747 150.114 20.3067 150.459 20.68C150.804 21.044 151.276 21.226 151.873 21.226C152.47 21.226 152.942 21.044 153.287 20.68C153.642 20.3067 153.819 19.7747 153.819 19.084V14.786H155.415ZM159.117 15.934C159.387 15.5607 159.756 15.2573 160.223 15.024C160.699 14.7813 161.226 14.66 161.805 14.66C162.486 14.66 163.102 14.8233 163.653 15.15C164.203 15.4767 164.637 15.9433 164.955 16.55C165.272 17.1473 165.431 17.8333 165.431 18.608C165.431 19.3827 165.272 20.078 164.955 20.694C164.637 21.3007 164.199 21.7767 163.639 22.122C163.088 22.458 162.477 22.626 161.805 22.626C161.207 22.626 160.675 22.5093 160.209 22.276C159.751 22.0427 159.387 21.744 159.117 21.38V22.5H157.521V12.14H159.117V15.934ZM163.807 18.608C163.807 18.076 163.695 17.6187 163.471 17.236C163.256 16.844 162.967 16.55 162.603 16.354C162.248 16.1487 161.865 16.046 161.455 16.046C161.053 16.046 160.671 16.1487 160.307 16.354C159.952 16.5593 159.663 16.858 159.439 17.25C159.224 17.642 159.117 18.104 159.117 18.636C159.117 19.168 159.224 19.6347 159.439 20.036C159.663 20.428 159.952 20.7267 160.307 20.932C160.671 21.1373 161.053 21.24 161.455 21.24C161.865 21.24 162.248 21.1373 162.603 20.932C162.967 20.7173 163.256 20.4093 163.471 20.008C163.695 19.6067 163.807 19.14 163.807 18.608Z" fill="black"/>
          </svg>
        </button>
      </div>

      
      {/* Frame 597 styling */}
      <div 
        style={{
          /* Frame 597 specifications */
          boxSizing: 'border-box',
          display: 'flex',
          flexDirection: 'row',
          justifyContent: 'space-between',
          alignItems: 'center',
          padding: '0px 20px',
          gap: '24px',
          width: '100%',
          height: '65px',
          background: 'rgba(43, 196, 156, 0.09)',
          border: '1px solid #2BC49C',
          borderRadius: '8px',
          /* Inside auto layout */
          flex: 'none',
          order: 2,
          alignSelf: 'stretch',
          flexGrow: 0,
        }}
      >
        <div style={{
          /* Frame 598 */
          display: 'flex',
          flexDirection: 'row',
          alignItems: 'center',
          justifyContent: 'space-between',
          padding: '0px 20px',
          gap: '16px',
          width: '100%',
          height: '41px',
          /* Inside auto layout */
          flex: 'none',
          order: 0,
          flexGrow: 0,
        }}>
          {/* Left side: Status verified icon and text - Clickable only for paid users */}
          <button 
            className="flex items-center gap-3 hover:opacity-80 transition-opacity"
            onClick={() => {
              if (trialStatus.isPaidUser) {
                setShowVerificationModal(true)
              }
            }}
            title={trialStatus.isPaidUser ? "View verification screenshots" : "Proofs Gallery (Premium users only)"}
            style={{ 
              cursor: trialStatus.isPaidUser ? 'pointer' : 'not-allowed',
              opacity: trialStatus.isPaidUser ? 1 : 0.6
            }}
          >
            <div className="flex items-center justify-center flex-shrink-0">
              <svg width="38" height="35" viewBox="0 0 40 41" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="0.5" y="1" width="39" height="39" rx="3.5" fill="#2BC49C" fillOpacity="0.09"/>
                <rect x="0.5" y="1" width="39" height="39" rx="3.5" stroke="#2BC49C"/>
                <path d="M20 11.125L27.875 14.125V21.625C27.875 25 24.875 28.375 20 29.875C15.125 28.375 12.125 25.375 12.125 21.625V14.125L20 11.125Z" stroke="#2BC49C" strokeWidth="2.25" strokeLinecap="round" strokeLinejoin="round"/>
                <path d="M16.625 20.125L18.875 22.375L23.375 17.125" stroke="#2BC49C" strokeWidth="2.25" strokeLinecap="round" strokeLinejoin="round"/>
              </svg>
            </div>
            <div className="flex flex-col">
              <div style={{ 
                fontFamily: 'Poppins',
                fontSize: '11px',
                fontWeight: 500,
                color: '#2BC49C'
              }}>
                {lastVerification ? 'Stats verified' : 'No verification yet'}
              </div>
              <div style={{ 
                fontFamily: 'Poppins',
                fontSize: '10px',
                fontWeight: 400,
                color: '#2BC49C'
              }}>
                {lastVerification 
                  ? `Uploaded ${new Date(lastVerification.entry_date).toLocaleDateString('en-US', { 
                      month: 'short', 
                      day: 'numeric', 
                      year: 'numeric' 
                    })}`
                  : 'Upload stats to verify'
                }
              </div>
            </div>
          </button>
          
          {/* Right side: View screenshots button - Only for paid users */}
          <button 
            className="text-green-600 hover:text-green-700 transition-colors flex-shrink-0"
            onClick={() => {
              if (trialStatus.isPaidUser) {
                setShowVerificationModal(true)
              }
            }}
            title={trialStatus.isPaidUser ? "View verification screenshots" : "Proofs Gallery (Premium users only)"}
            style={{ 
              cursor: trialStatus.isPaidUser ? 'pointer' : 'not-allowed',
              opacity: trialStatus.isPaidUser ? 1 : 0.6
            }}
          >
            <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M8.33329 12.1667H11.6666C11.8876 12.1667 12.0996 12.0789 12.2559 11.9226C12.4122 11.7663 12.5 11.5543 12.5 11.3333C12.5 11.1123 12.4122 10.9004 12.2559 10.7441C12.0996 10.5878 11.8876 10.5 11.6666 10.5H8.33329C8.11228 10.5 7.90032 10.5878 7.74404 10.7441C7.58776 10.9004 7.49996 11.1123 7.49996 11.3333C7.49996 11.5543 7.58776 11.7663 7.74404 11.9226C7.90032 12.0789 8.11228 12.1667 8.33329 12.1667ZM15.8333 3H4.16663C3.50358 3 2.8677 3.26339 2.39886 3.73223C1.93002 4.20107 1.66663 4.83696 1.66663 5.5V8C1.66663 8.22101 1.75442 8.43297 1.9107 8.58926C2.06698 8.74554 2.27895 8.83333 2.49996 8.83333H3.33329V15.5C3.33329 16.163 3.59668 16.7989 4.06553 17.2678C4.53437 17.7366 5.17025 18 5.83329 18H14.1666C14.8297 18 15.4656 17.7366 15.9344 17.2678C16.4032 16.7989 16.6666 16.163 16.6666 15.5V8.83333H17.5C17.721 8.83333 17.9329 8.74554 18.0892 8.58926C18.2455 8.43297 18.3333 8.22101 18.3333 8V5.5C18.3333 4.83696 18.0699 4.20107 17.6011 3.73223C17.1322 3.26339 16.4963 3 15.8333 3ZM15 15.5C15 15.721 14.9122 15.933 14.7559 16.0893C14.5996 16.2455 14.3876 16.3333 14.1666 16.3333H5.83329C5.61228 16.3333 5.40032 16.2455 5.24404 16.0893C5.08776 15.933 4.99996 15.721 4.99996 15.5V8.83333H15V15.5ZM16.6666 7.16667H3.33329V5.5C3.33329 5.27899 3.42109 5.06702 3.57737 4.91074C3.73365 4.75446 3.94561 4.66667 4.16663 4.66667H15.8333C16.0543 4.66667 16.2663 4.75446 16.4225 4.91074C16.5788 5.06702 16.6666 5.27899 16.6666 5.5V7.16667Z" fill="#2BC49C"/>
            </svg>
          </button>
          
        </div>
        
      </div>

      {/* Transparency notice - positioned after verified box */}
      <div style={{
        width: '100%',
        marginTop: '8px',
        order: 3 // Ensure it comes after the verified box
      }}>
       
      </div>

      {/* Option Buttons Overlay */}
      {showOptionButtons && (
        <div 
          style={{
            position: 'fixed',
            top: 0,
            left: 0,
            right: 0,
            bottom: 0,
            backgroundColor: 'rgba(0, 0, 0, 0.5)',
            display: 'flex',
            justifyContent: 'center',
            alignItems: 'center',
            zIndex: 1000,
          }}
          onClick={() => setShowOptionButtons(false)}
        >
          <div 
            style={{
              /* Frame 610 */
              display: 'flex',
              flexDirection: 'column',
              justifyContent: 'center',
              alignItems: 'flex-start',
              padding: '8px 16px',
              gap: '8px',
              width: '182px',
              height: '96px',
              background: '#F4F3F2',
              backdropFilter: 'blur(50px)',
              borderRadius: '8px',
            }}
            onClick={(e) => e.stopPropagation()}
          >
            {/* Grind Card Button */}
            <button
              onClick={() => handleCardTypeSelect('grind')}
              style={{
                display: 'flex',
                flexDirection: 'row',
                justifyContent: 'center',
                alignItems: 'center',
                padding: '0px',
                gap: '16px',
                width: '150px',
                height: '36px',
                borderRadius: '4px',
                background: 'none',
                border: '1px solid transparent',
                cursor: 'pointer',
                flex: 'none',
                order: 0,
                flexGrow: 0,
                transition: 'all 0.2s ease-in-out',
              }}
              onMouseEnter={(e) => {
                e.currentTarget.style.border = '1px solid #000000'
              }}
              onMouseLeave={(e) => {
                e.currentTarget.style.border = '1px solid transparent'
              }}
            >
              {/* Grind Card SVG */}
              <div style={{
                width: '150px',
                height: '36px',
                position: 'relative',
                flex: 'none',
                order: 0,
                flexGrow: 0,
              }}>
                <svg width="150" height="36" viewBox="0 0 150 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M31.014 22.636L24.986 19.894M31.112 13.582L24.888 16.977M22.015 21.809C22.4438 21.809 22.8683 21.7245 23.2645 21.5605C23.6606 21.3964 24.0205 21.1559 24.3237 20.8527C24.6269 20.5495 24.8674 20.1896 25.0315 19.7935C25.1955 19.3973 25.28 18.9728 25.28 18.544C25.28 18.1152 25.1955 17.6907 25.0315 17.2945C24.8674 16.8984 24.6269 16.5385 24.3237 16.2353C24.0205 15.9321 23.6606 15.6916 23.2645 15.5275C22.8683 15.3635 22.4438 15.279 22.015 15.279C21.1491 15.279 20.3186 15.623 19.7063 16.2353C19.094 16.8476 18.75 17.6781 18.75 18.544C18.75 19.4099 19.094 20.2404 19.7063 20.8527C20.3186 21.465 21.1491 21.809 22.015 21.809ZM33.985 15.28C34.4138 15.28 34.8383 15.1955 35.2345 15.0315C35.6306 14.8674 35.9905 14.6269 36.2937 14.3237C36.5969 14.0205 36.8374 13.6606 37.0015 13.2645C37.1655 12.8683 37.25 12.4438 37.25 12.015C37.25 11.5862 37.1655 11.1617 37.0015 10.7655C36.8374 10.3694 36.5969 10.0095 36.2937 9.7063C35.9905 9.40311 35.6306 9.16261 35.2345 8.99853C34.8383 8.83445 34.4138 8.75 33.985 8.75C33.1191 8.75 32.2886 9.09399 31.6763 9.7063C31.064 10.3186 30.72 11.1491 30.72 12.015C30.72 12.8809 31.064 13.7114 31.6763 14.3237C32.2886 14.936 33.1191 15.28 33.985 15.28ZM33.985 27.25C34.8509 27.25 35.6814 26.906 36.2937 26.2937C36.906 25.6814 37.25 24.8509 37.25 23.985C37.25 23.1191 36.906 22.2886 36.2937 21.6763C35.6814 21.064 34.8509 20.72 33.985 20.72C33.1191 20.72 32.2886 21.064 31.6763 21.6763C31.064 22.2886 30.72 23.1191 30.72 23.985C30.72 24.8509 31.064 25.6814 31.6763 26.2937C32.2886 26.906 33.1191 27.25 33.985 27.25Z" stroke="black" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
                  <path d="M64.4484 15.57C64.1964 15.0847 63.8464 14.7207 63.3984 14.478C62.9504 14.226 62.4324 14.1 61.8444 14.1C61.2004 14.1 60.6264 14.2447 60.1224 14.534C59.6184 14.8233 59.2218 15.234 58.9324 15.766C58.6524 16.298 58.5124 16.914 58.5124 17.614C58.5124 18.314 58.6524 18.9347 58.9324 19.476C59.2218 20.008 59.6184 20.4187 60.1224 20.708C60.6264 20.9973 61.2004 21.142 61.8444 21.142C62.7124 21.142 63.4171 20.8993 63.9584 20.414C64.4998 19.9287 64.8311 19.2707 64.9524 18.44H61.2984V17.166H66.6604V18.412C66.5578 19.168 66.2871 19.8633 65.8484 20.498C65.4191 21.1327 64.8544 21.6413 64.1544 22.024C63.4638 22.3973 62.6938 22.584 61.8444 22.584C60.9298 22.584 60.0944 22.374 59.3384 21.954C58.5824 21.5247 57.9804 20.932 57.5324 20.176C57.0938 19.42 56.8744 18.566 56.8744 17.614C56.8744 16.662 57.0938 15.808 57.5324 15.052C57.9804 14.296 58.5824 13.708 59.3384 13.288C60.1038 12.8587 60.9391 12.644 61.8444 12.644C62.8804 12.644 63.7998 12.9007 64.6024 13.414C65.4144 13.918 66.0024 14.6367 66.3664 15.57H64.4484ZM69.8306 15.906C70.0639 15.514 70.3719 15.2107 70.7546 14.996C71.1466 14.772 71.6086 14.66 72.1406 14.66V16.312H71.7346C71.1092 16.312 70.6332 16.4707 70.3066 16.788C69.9892 17.1053 69.8306 17.656 69.8306 18.44V22.5H68.2346V14.786H69.8306V15.906ZM74.4196 13.764C74.1303 13.764 73.8876 13.666 73.6916 13.47C73.4956 13.274 73.3976 13.0313 73.3976 12.742C73.3976 12.4527 73.4956 12.21 73.6916 12.014C73.8876 11.818 74.1303 11.72 74.4196 11.72C74.6996 11.72 74.9376 11.818 75.1336 12.014C75.3296 12.21 75.4276 12.4527 75.4276 12.742C75.4276 13.0313 75.3296 13.274 75.1336 13.47C74.9376 13.666 74.6996 13.764 74.4196 13.764ZM75.2036 14.786V22.5H73.6076V14.786H75.2036ZM81.191 14.66C81.7977 14.66 82.339 14.786 82.815 15.038C83.3004 15.29 83.6784 15.6633 83.949 16.158C84.2197 16.6527 84.355 17.25 84.355 17.95V22.5H82.773V18.188C82.773 17.4973 82.6004 16.97 82.255 16.606C81.9097 16.2327 81.4384 16.046 80.841 16.046C80.2437 16.046 79.7677 16.2327 79.413 16.606C79.0677 16.97 78.895 17.4973 78.895 18.188V22.5H77.299V14.786H78.895V15.668C79.1564 15.3507 79.4877 15.1033 79.889 14.926C80.2997 14.7487 80.7337 14.66 81.191 14.66ZM85.8588 18.608C85.8588 17.8333 86.0175 17.1473 86.3348 16.55C86.6615 15.9527 87.1002 15.4907 87.6508 15.164C88.2108 14.828 88.8315 14.66 89.5128 14.66C90.0168 14.66 90.5115 14.772 90.9968 14.996C91.4915 15.2107 91.8835 15.5 92.1728 15.864V12.14H93.7828V22.5H92.1728V21.338C91.9115 21.7113 91.5475 22.0193 91.0808 22.262C90.6235 22.5047 90.0962 22.626 89.4988 22.626C88.8268 22.626 88.2108 22.458 87.6508 22.122C87.1002 21.7767 86.6615 21.3007 86.3348 20.694C86.0175 20.078 85.8588 19.3827 85.8588 18.608ZM92.1728 18.636C92.1728 18.104 92.0608 17.642 91.8368 17.25C91.6222 16.858 91.3375 16.5593 90.9828 16.354C90.6282 16.1487 90.2455 16.046 89.8348 16.046C89.4242 16.046 89.0415 16.1487 88.6868 16.354C88.3322 16.55 88.0428 16.844 87.8188 17.236C87.6042 17.6187 87.4968 18.076 87.4968 18.608C87.4968 19.14 87.6042 19.6067 87.8188 20.008C88.0428 20.4093 88.3322 20.7173 88.6868 20.932C89.0508 21.1373 89.4335 21.24 89.8348 21.24C90.2455 21.24 90.6282 21.1373 90.9828 20.932C91.3375 20.7267 91.6222 20.428 91.8368 20.036C92.0608 19.6347 92.1728 19.168 92.1728 18.636ZM98.9838 17.614C98.9838 16.662 99.2032 15.808 99.6418 15.052C100.09 14.296 100.692 13.708 101.448 13.288C102.213 12.8587 103.048 12.644 103.954 12.644C104.99 12.644 105.909 12.9007 106.712 13.414C107.524 13.918 108.112 14.6367 108.476 15.57H106.558C106.306 15.0567 105.956 14.674 105.508 14.422C105.06 14.17 104.542 14.044 103.954 14.044C103.31 14.044 102.736 14.1887 102.232 14.478C101.728 14.7673 101.331 15.1827 101.042 15.724C100.762 16.2653 100.622 16.8953 100.622 17.614C100.622 18.3327 100.762 18.9627 101.042 19.504C101.331 20.0453 101.728 20.4653 102.232 20.764C102.736 21.0533 103.31 21.198 103.954 21.198C104.542 21.198 105.06 21.072 105.508 20.82C105.956 20.568 106.306 20.1853 106.558 19.672H108.476C108.112 20.6053 107.524 21.324 106.712 21.828C105.909 22.332 104.99 22.584 103.954 22.584C103.039 22.584 102.204 22.374 101.448 21.954C100.692 21.5247 100.09 20.932 99.6418 20.176C99.2032 19.42 98.9838 18.566 98.9838 17.614ZM109.812 18.608C109.812 17.8333 109.971 17.1473 110.288 16.55C110.615 15.9527 111.053 15.4907 111.604 15.164C112.164 14.828 112.78 14.66 113.452 14.66C114.059 14.66 114.586 14.7813 115.034 15.024C115.491 15.2573 115.855 15.5513 116.126 15.906V14.786H117.736V22.5H116.126V21.352C115.855 21.716 115.487 22.0193 115.02 22.262C114.553 22.5047 114.021 22.626 113.424 22.626C112.761 22.626 112.155 22.458 111.604 22.122C111.053 21.7767 110.615 21.3007 110.288 20.694C109.971 20.078 109.812 19.3827 109.812 18.608ZM116.126 18.636C116.126 18.104 116.014 17.642 115.79 17.25C115.575 16.858 115.291 16.5593 114.936 16.354C114.581 16.1487 114.199 16.046 113.788 16.046C113.377 16.046 112.995 16.1487 112.64 16.354C112.285 16.55 111.996 16.844 111.772 17.236C111.557 17.6187 111.45 18.076 111.45 18.608C111.45 19.14 111.557 19.6067 111.772 20.008C111.996 20.4093 112.285 20.7173 112.64 20.932C113.004 21.1373 113.387 21.24 113.788 21.24C114.199 21.24 114.581 21.1373 114.936 20.932C115.291 20.7267 115.575 20.428 115.79 20.036C116.014 19.6347 116.126 19.168 116.126 18.636ZM121.428 15.906C121.662 15.514 121.97 15.2107 122.352 14.996C122.744 14.772 123.206 14.66 123.738 14.66V16.312H123.332C122.707 16.312 122.231 16.4707 121.904 16.788C121.587 17.1053 121.428 17.656 121.428 18.44V22.5H119.832V14.786H121.428V15.906ZM124.673 18.608C124.673 17.8333 124.832 17.1473 125.149 16.55C125.476 15.9527 125.915 15.4907 126.465 15.164C127.025 14.828 127.646 14.66 128.327 14.66C128.831 14.66 129.326 14.772 129.811 14.996C130.306 15.2107 130.698 15.5 130.987 15.864V12.14H132.597V22.5H130.987V21.338C130.726 21.7113 130.362 22.0193 129.895 22.262C129.438 22.5047 128.911 22.626 128.313 22.626C127.641 22.626 127.025 22.458 126.465 22.122C125.915 21.7767 125.476 21.3007 125.149 20.694C124.832 20.078 124.673 19.3827 124.673 18.608ZM130.987 18.636C130.987 18.104 130.875 17.642 130.651 17.25C130.437 16.858 130.152 16.5593 129.797 16.354C129.443 16.1487 129.06 16.046 128.649 16.046C128.239 16.046 127.856 16.1487 127.501 16.354C127.147 16.55 126.857 16.844 126.633 17.236C126.419 17.6187 126.311 18.076 126.311 18.608C126.311 19.14 126.419 19.6067 126.633 20.008C126.857 20.4093 127.147 20.7173 127.501 20.932C127.865 21.1373 128.248 21.24 128.649 21.24C129.06 21.24 129.443 21.1373 129.797 20.932C130.152 20.7267 130.437 20.428 130.651 20.036C130.875 19.6347 130.987 19.168 130.987 18.636Z" fill="black"/>
                </svg>
              </div>
            </button>

            {/* Summit Card Button */}
            <button
              onClick={() => handleCardTypeSelect('summit')}
              style={{
                display: 'flex',
                flexDirection: 'row',
                justifyContent: 'center',
                alignItems: 'center',
                padding: '0px',
                gap: '16px',
                width: '150px',
                height: '36px',
                borderRadius: '4px',
                background: 'none',
                border: '1px solid transparent',
                cursor: 'pointer',
                flex: 'none',
                order: 1,
                flexGrow: 0,
                transition: 'all 0.2s ease-in-out',
              }}
              onMouseEnter={(e) => {
                e.currentTarget.style.border = '1px solid #000000'
              }}
              onMouseLeave={(e) => {
                e.currentTarget.style.border = '1px solid transparent'
              }}
            >
              {/* Share Icon */}
              <div style={{
                width: '150px',
                height: '36px',
                position: 'relative',
                flex: 'none',
                order: 0,
                flexGrow: 0,
              }}>
                <svg width="150" height="36" viewBox="0 0 150 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M22.514 22.636L16.486 19.894M22.612 13.582L16.388 16.977M13.515 21.809C13.9438 21.809 14.3683 21.7245 14.7645 21.5605C15.1606 21.3964 15.5205 21.1559 15.8237 20.8527C16.1269 20.5495 16.3674 20.1896 16.5315 19.7935C16.6955 19.3973 16.78 18.9728 16.78 18.544C16.78 18.1152 16.6955 17.6907 16.5315 17.2945C16.3674 16.8984 16.1269 16.5385 15.8237 16.2353C15.5205 15.9321 15.1606 15.6916 14.7645 15.5275C14.3683 15.3635 13.9438 15.279 13.515 15.279C12.6491 15.279 11.8186 15.623 11.2063 16.2353C10.594 16.8476 10.25 17.6781 10.25 18.544C10.25 19.4099 10.594 20.2404 11.2063 20.8527C11.8186 21.465 12.6491 21.809 13.515 21.809ZM25.485 15.28C25.9138 15.28 26.3383 15.1955 26.7345 15.0315C27.1306 14.8674 27.4905 14.6269 27.7937 14.3237C28.0969 14.0205 28.3374 13.6606 28.5015 13.2645C28.6655 12.8683 28.75 12.4438 28.75 12.015C28.75 11.5862 28.6655 11.1617 28.5015 10.7655C28.3374 10.3694 28.0969 10.0095 27.7937 9.7063C27.4905 9.40311 27.1306 9.16261 26.7345 8.99853C26.3383 8.83445 25.9138 8.75 25.485 8.75C24.6191 8.75 23.7886 9.09399 23.1763 9.7063C22.564 10.3186 22.22 11.1491 22.22 12.015C22.22 12.8809 22.564 13.7114 23.1763 14.3237C23.7886 14.936 24.6191 15.28 25.485 15.28ZM25.485 27.25C26.3509 27.25 27.1814 26.906 27.7937 26.2937C28.406 25.6814 28.75 24.8509 28.75 23.985C28.75 23.1191 28.406 22.2886 27.7937 21.6763C27.1814 21.064 26.3509 20.72 25.485 20.72C24.6191 20.72 23.7886 21.064 23.1763 21.6763C22.564 22.2886 22.22 23.1191 22.22 23.985C22.22 24.8509 22.564 25.6814 23.1763 26.2937C23.7886 26.906 24.6191 27.25 25.485 27.25Z" stroke="black" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
                  <path d="M52.0812 22.598C51.4279 22.598 50.8399 22.486 50.3172 22.262C49.7945 22.0287 49.3839 21.702 49.0852 21.282C48.7865 20.862 48.6372 20.372 48.6372 19.812H50.3452C50.3825 20.232 50.5459 20.5773 50.8352 20.848C51.1339 21.1187 51.5492 21.254 52.0812 21.254C52.6319 21.254 53.0612 21.1233 53.3692 20.862C53.6772 20.5913 53.8312 20.246 53.8312 19.826C53.8312 19.4993 53.7332 19.2333 53.5372 19.028C53.3505 18.8227 53.1125 18.664 52.8232 18.552C52.5432 18.44 52.1512 18.3187 51.6472 18.188C51.0125 18.02 50.4945 17.852 50.0932 17.684C49.7012 17.5067 49.3652 17.236 49.0852 16.872C48.8052 16.508 48.6652 16.0227 48.6652 15.416C48.6652 14.856 48.8052 14.366 49.0852 13.946C49.3652 13.526 49.7572 13.204 50.2612 12.98C50.7652 12.756 51.3485 12.644 52.0112 12.644C52.9539 12.644 53.7239 12.882 54.3212 13.358C54.9279 13.8247 55.2639 14.4687 55.3292 15.29H53.5652C53.5372 14.9353 53.3692 14.632 53.0612 14.38C52.7532 14.128 52.3472 14.002 51.8432 14.002C51.3859 14.002 51.0125 14.1187 50.7232 14.352C50.4339 14.5853 50.2892 14.9213 50.2892 15.36C50.2892 15.6587 50.3779 15.906 50.5552 16.102C50.7419 16.2887 50.9752 16.438 51.2552 16.55C51.5352 16.662 51.9179 16.7833 52.4032 16.914C53.0472 17.0913 53.5699 17.2687 53.9712 17.446C54.3819 17.6233 54.7272 17.8987 55.0072 18.272C55.2965 18.636 55.4412 19.126 55.4412 19.742C55.4412 20.2367 55.3059 20.7033 55.0352 21.142C54.7739 21.5807 54.3865 21.9353 53.8732 22.206C53.3692 22.4673 52.7719 22.598 52.0812 22.598ZM64.3104 14.786V22.5H62.7144V21.59C62.4624 21.9073 62.1311 22.1593 61.7204 22.346C61.3191 22.5233 60.8897 22.612 60.4324 22.612C59.8257 22.612 59.2797 22.486 58.7944 22.234C58.3184 21.982 57.9404 21.6087 57.6604 21.114C57.3897 20.6193 57.2544 20.022 57.2544 19.322V14.786H58.8364V19.084C58.8364 19.7747 59.0091 20.3067 59.3544 20.68C59.6997 21.044 60.1711 21.226 60.7684 21.226C61.3657 21.226 61.8371 21.044 62.1824 20.68C62.5371 20.3067 62.7144 19.7747 62.7144 19.084V14.786H64.3104ZM75.7542 14.66C76.3609 14.66 76.9022 14.786 77.3782 15.038C77.8635 15.29 78.2415 15.6633 78.5122 16.158C78.7922 16.6527 78.9322 17.25 78.9322 17.95V22.5H77.3502V18.188C77.3502 17.4973 77.1775 16.97 76.8322 16.606C76.4869 16.2327 76.0155 16.046 75.4182 16.046C74.8209 16.046 74.3449 16.2327 73.9902 16.606C73.6449 16.97 73.4722 17.4973 73.4722 18.188V22.5H71.8902V18.188C71.8902 17.4973 71.7175 16.97 71.3722 16.606C71.0269 16.2327 70.5555 16.046 69.9582 16.046C69.3609 16.046 68.8849 16.2327 68.5302 16.606C68.1849 16.97 68.0122 17.4973 68.0122 18.188V22.5H66.4162V14.786H68.0122V15.668C68.2735 15.3507 68.6049 15.1033 69.0062 14.926C69.4075 14.7487 69.8369 14.66 70.2942 14.66C70.9102 14.66 71.4609 14.7907 71.9462 15.052C72.4315 15.3133 72.8049 15.6913 73.0662 16.186C73.2995 15.7193 73.6635 15.3507 74.1582 15.08C74.6529 14.8 75.1849 14.66 75.7542 14.66ZM90.3011 14.66C90.9078 14.66 91.4491 14.786 91.9251 15.038C92.4104 15.29 92.7884 15.6633 93.0591 16.158C93.3391 16.6527 93.4791 17.25 93.4791 17.95V22.5H91.8971V18.188C91.8971 17.4973 91.7244 16.97 91.3791 16.606C91.0338 16.2327 90.5624 16.046 89.9651 16.046C89.3678 16.046 88.8918 16.2327 88.5371 16.606C88.1918 16.97 88.0191 17.4973 88.0191 18.188V22.5H86.4371V18.188C86.4371 17.4973 86.2644 16.97 85.9191 16.606C85.5738 16.2327 85.1024 16.046 84.5051 16.046C83.9078 16.046 83.4318 16.2327 83.0771 16.606C82.7318 16.97 82.5591 17.4973 82.5591 18.188V22.5H80.9631V14.786H82.5591V15.668C82.8204 15.3507 83.1518 15.1033 83.5531 14.926C83.9544 14.7487 84.3838 14.66 84.8411 14.66C85.4571 14.66 86.0078 14.7907 86.4931 15.052C86.9784 15.3133 87.3518 15.6913 87.6131 16.186C87.8464 15.7193 88.2104 15.3507 88.7051 15.08C89.1998 14.8 89.7318 14.66 90.3011 14.66ZM96.322 13.764C96.0326 13.764 95.79 13.666 95.594 13.47C95.398 13.274 95.3 13.0313 95.3 12.742C95.3 12.4527 95.398 12.21 95.594 12.014C95.79 11.818 96.0326 11.72 96.322 11.72C96.602 11.72 96.84 11.818 97.036 12.014C97.232 12.21 97.33 12.4527 97.33 12.742C97.33 13.0313 97.232 13.274 97.036 13.47C96.84 13.666 96.602 13.764 96.322 13.764ZM97.106 14.786V22.5H95.51V14.786H97.106ZM101.063 16.088V20.358C101.063 20.6473 101.129 20.8573 101.259 20.988C101.399 21.1093 101.633 21.17 101.959 21.17H102.939V22.5H101.679C100.961 22.5 100.41 22.332 100.027 21.996C99.6447 21.66 99.4534 21.114 99.4534 20.358V16.088H98.5434V14.786H99.4534V12.868H101.063V14.786H102.939V16.088H101.063ZM107.515 17.614C107.515 16.662 107.734 15.808 108.173 15.052C108.621 14.296 109.223 13.708 109.979 13.288C110.744 12.8587 111.58 12.644 112.485 12.644C113.521 12.644 114.44 12.9007 115.243 13.414C116.055 13.918 116.643 14.6367 117.007 15.57H115.089C114.837 15.0567 114.487 14.674 114.039 14.422C113.591 14.17 113.073 14.044 112.485 14.044C111.841 14.044 111.267 14.1887 110.763 14.478C110.259 14.7673 109.862 15.1827 109.573 15.724C109.293 16.2653 109.153 16.8953 109.153 17.614C109.153 18.3327 109.293 18.9627 109.573 19.504C109.862 20.0453 110.259 20.4653 110.763 20.764C111.267 21.0533 111.841 21.198 112.485 21.198C113.073 21.198 113.591 21.072 114.039 20.82C114.487 20.568 114.837 20.1853 115.089 19.672H117.007C116.643 20.6053 116.055 21.324 115.243 21.828C114.44 22.332 113.521 22.584 112.485 22.584C111.57 22.584 110.735 22.374 109.979 21.954C109.223 21.5247 108.621 20.932 108.173 20.176C107.734 19.42 107.515 18.566 107.515 17.614ZM118.343 18.608C118.343 17.8333 118.502 17.1473 118.819 16.55C119.146 15.9527 119.585 15.4907 120.135 15.164C120.695 14.828 121.311 14.66 121.983 14.66C122.59 14.66 123.117 14.7813 123.565 15.024C124.023 15.2573 124.387 15.5513 124.657 15.906V14.786H126.267V22.5H124.657V21.352C124.387 21.716 124.018 22.0193 123.551 22.262C123.085 22.5047 122.553 22.626 121.955 22.626C121.293 22.626 120.686 22.458 120.135 22.122C119.585 21.7767 119.146 21.3007 118.819 20.694C118.502 20.078 118.343 19.3827 118.343 18.608ZM124.657 18.636C124.657 18.104 124.545 17.642 124.321 17.25C124.107 16.858 123.822 16.5593 123.467 16.354C123.113 16.1487 122.73 16.046 122.319 16.046C121.909 16.046 121.526 16.1487 121.171 16.354C120.817 16.55 120.527 16.844 120.303 17.236C120.089 17.6187 119.981 18.076 119.981 18.608C119.981 19.14 120.089 19.6067 120.303 20.008C120.527 20.4093 120.817 20.7173 121.171 20.932C121.535 21.1373 121.918 21.24 122.319 21.24C122.73 21.24 123.113 21.1373 123.467 20.932C123.822 20.7267 124.107 20.428 124.321 20.036C124.545 19.6347 124.657 19.168 124.657 18.636ZM129.959 15.906C130.193 15.514 130.501 15.2107 130.883 14.996C131.275 14.772 131.737 14.66 132.269 14.66V16.312H131.863C131.238 16.312 130.762 16.4707 130.435 16.788C130.118 17.1053 129.959 17.656 129.959 18.44V22.5H128.363V14.786H129.959V15.906ZM133.205 18.608C133.205 17.8333 133.363 17.1473 133.681 16.55C134.007 15.9527 134.446 15.4907 134.997 15.164C135.557 14.828 136.177 14.66 136.859 14.66C137.363 14.66 137.857 14.772 138.343 14.996C138.837 15.2107 139.229 15.5 139.519 15.864V12.14H141.129V22.5H139.519V21.338C139.257 21.7113 138.893 22.0193 138.427 22.262C137.969 22.5047 137.442 22.626 136.845 22.626C136.173 22.626 135.557 22.458 134.997 22.122C134.446 21.7767 134.007 21.3007 133.681 20.694C133.363 20.078 133.205 19.3827 133.205 18.608ZM139.519 18.636C139.519 18.104 139.407 17.642 139.183 17.25C138.968 16.858 138.683 16.5593 138.329 16.354C137.974 16.1487 137.591 16.046 137.181 16.046C136.77 16.046 136.387 16.1487 136.033 16.354C135.678 16.55 135.389 16.844 135.165 17.236C134.95 17.6187 134.843 18.076 134.843 18.608C134.843 19.14 134.95 19.6067 135.165 20.008C135.389 20.4093 135.678 20.7173 136.033 20.932C136.397 21.1373 136.779 21.24 137.181 21.24C137.591 21.24 137.974 21.1373 138.329 20.932C138.683 20.7267 138.968 20.428 139.183 20.036C139.407 19.6347 139.519 19.168 139.519 18.636Z" fill="black"/>
                </svg>
              </div>
            </button>
          </div>
        </div>
      )}

      {/* Export Card Modal */}
      <ExportCardModal
        isOpen={showExportModal}
        onClose={() => setShowExportModal(false)}
        profile={profile}
        isPaidUser={trialStatus.isPaidUser}
      />

      {/* Grind Card */}
      {showGrindCard && (
        <GrindCard
          profile={profile}
          onClose={() => setShowGrindCard(false)}
          isPaidUser={trialStatus.isPaidUser}
        />
      )}

      {/* Summit Card */}
      {showSummitCard && (
        <SummitCard
          profile={profile}
          onClose={() => setShowSummitCard(false)}
          isPaidUser={trialStatus.isPaidUser}
        />
      )}

      {/* Verification Screenshots Modal */}
      <VerificationScreenshotsModal
        isOpen={showVerificationModal}
        onClose={() => setShowVerificationModal(false)}
        userId={user?.id || ''}
        userName={profile?.trainer_name}
      />
      
    </div>
  )
}
